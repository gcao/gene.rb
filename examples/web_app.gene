#!/usr/bin/env grun --debug

# compile code and prettify compiled code
# gcompile examples/web_app.gene |jq . | ruby -e "puts ARGF.read.gsub(/\n          \s*/, '').gsub(/\n        \\]/, ']').gsub(/,([^\n])/, ', \\1')"

# Start a http server
(var server (new gene/net/HttpServer 8085))

# Serve static content
(server .serve_static {^readme "README.md"})

# Server whole directory
# (server .serve_static {^/ "."})

# TODO: Serve dynamic content

# Start server
(server .start)
